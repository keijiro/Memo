# Unity Multi Display

Unity でのマルチディスプレイの使用について

## 基本

[Display](https://docs.unity3d.com/6000.0/Documentation/ScriptReference/Display.html) クラスを通して制御する。デスクトップにおける使用方法は１０年近く変わらない。その後 iOS や Android での対応が付け足されたが、個人的にこの辺りは全く未検証なのでよく分からない。

アプリ起動後、`Display.displays` を調べて、表示したいディスプレイについて `Activate` を実行していく。あとは `Camera` の `targetDisplay` を設定するだけでレンダリングを始められる。

基本的な使い方は簡単だが、使いこなそうとすると様々な問題が発生する。また、それに対する解法が必ずしも用意されているとは限らないのが、何とも悩ましい。

### 起動ディスプレイの決定

起動ディスプレイはコマンドライン引数 `-monitor` で選択できる。インデクスは１から始まることに注意。

### UI の使用

UI Toolkit は、表示についてはマルチディスプレイに対応している。入力については非対応。インタラクティブな操作要素についてはメインディスプレイに集約する必要があるだろう。

### メインディスプレイの支配的要素

Update 処理の間隔や UI Toolkit の DPI などは全てメインディスプレイ上の設定によって決められてしまう模様（註：厳密な検証は行っていない）

ここで悩ましいのは、例えばマルチディスプレイ環境で VJ など行う場合、UI はメインディスプレイに隠しつつも、リフレッシュレートは外部出力に支配させたいという都合がある。しかし残念ながらこれは不可能ということになる。

## macOS

### ディスプレイのインデックス規則

システム設定における "Main Display" がディスプレイ 0 番になる。それ以外の順序については不定（システム的には決定論的に割り当てられているのかもしれないが、少なくともユーザー側で割り当てを変更する手段は無い）

３枚以上のディスプレイを使用する場合、ディスプレイ 0 番以外については入れ替えを可能にする仕組みを用意する必要があるだろう。
